ChinaPayments.Component["admin-form"]={container:{},configuration:{title:"",description:"",fields:{},operations:{},rest_data:{},rest_path:""},Init:function(t){this.container=t;let e=this;china_payments_component_configuration_parse(this,(function(){e.loadTemplate()}))},loadTemplate:function(){let t=this;ChinaPayments.Template.load(this.container,"admin-form","template/default.html",{title:this.configuration.title,description:this.configuration.description,fields:_.sortBy(Object.values(this.configuration.fields),"order"),operations:_.sortBy(Object.values(this.configuration.operations),"order")},(function(){t.container.find(" > form").on("submit",(function(e){e.preventDefault(),e.stopImmediatePropagation(),jQuery(this).find('input[type="submit"]').parent().html(china_payments_element_loader("mini"));let n=china_payments_clone_object(t.configuration.rest_data);jQuery(this).find(":input[name]").not('[type="submit"]').each((function(){n[jQuery(this).attr("name")]=jQuery(this).val()})),ChinaPayments.API.post(t.configuration.rest_path,n,(function(){t.container.trigger("china_payments_settings_saved")}))}))}))}};